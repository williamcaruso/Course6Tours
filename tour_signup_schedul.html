<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Course 6 Tours</title>
    <meta name="description"
          content="The website to schedule tours for visiting the Electrical Engineering and Computer Science Department at MIT (aka Course 6)." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Codeply">



    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body >
    <nav class="navbar navbar-fixed-top navbar-toggleable-sm navbar-inverse bg-primary mb-3">

    <div class="flex-row d-flex">
        <a class="navbar-brand mb-1" href="index.html"><img src="graphics/VI-Logo.svg" width="30" height="30">&nbsp;&nbsp;Course 6 Tours</a>
        <button type="button" class="hidden-md-up navbar-toggler pull-right" data-toggle="offcanvas" title="Toggle responsive left sidebar">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
<div class="container-fluid" id="main">
    <div class="row row-offcanvas row-offcanvas-left">
        <div class="col-md-3 col-lg-2 sidebar-offcanvas" id="sidebar" role="navigation">
            <ul class="nav flex-column pl-1">

                <li class="nav-item"><a class="nav-link" href="map_location.html">Campus Map</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item"><a class="nav-link" href="contact_page.html">Contact</a></li>
            </ul>
        </div>
        <!--/col-->

        <div class="col-md-9 col-lg-10 main">

            <h1 class="">MIT Course 6 Tour Request</h1>
            <p class="lead hidden-xs-down">The Department of Electrical Engineering and Computer Science</p>

            <div class="mdl-card mdl-shadow--2dp">
                <div class="mdl-card__supporting-text">
                    <div class="mdl-stepper-horizontal-alternative active-step">
                        <div class="mdl-stepper-step">
                            <a href="tour_signup_personal_info.html" class='btn'>
                                <div class="mdl-stepper-circle"><span>1</span></div>
                                <div class="mdl-stepper-title">Personal Info</div>
                                <div class="mdl-stepper-bar-left"></div>
                                <div class="mdl-stepper-bar-right"></div>
                            </a>
                        </div>
                        <div class="mdl-stepper-step active-step">
                            <a href = "tour_signup_schedul.html" class='btn'>
                                <div class="mdl-stepper-circle"><span>2</span></div>
                                <div class="mdl-stepper-title">Pick Your Dates</div>
                                <div class="mdl-stepper-bar-left"></div>
                                <div class="mdl-stepper-bar-right"></div>
                            </a>
                        </div>
                        <div class="mdl-stepper-step">
                            <a href="tour_signup_review.html" class= 'btn'>
                                <div class="mdl-stepper-circle"><span>3</span></div>
                                <div class="mdl-stepper-title">Review</div>
                                <div class="mdl-stepper-bar-left"></div>
                                <div class="mdl-stepper-bar-right"></div>
                            </a>
                        </div>
                        <div class="mdl-stepper-step">
                            <a href="tour_signup_confirm.html" class= 'btn'>
                                <div class="mdl-stepper-circle"><span>4</span></div>
                                <div class="mdl-stepper-title">Confirmation</div>
                                <div class="mdl-stepper-bar-left"></div>
                                <div class="mdl-stepper-bar-right"></div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <h6 style="float:right">Drag and Drop your dates</h6>
            <br>
            <br>
            <div class="row mb-3">
                <div class=" col-md-10" style='height:400px'>
                    <table id="calendar" border=1></table>
                </div>
                <div class=" col-md-2">
                    <table id="choices" frame="box" rules="none">
                        <tr><td><center><img class="num" id="first-choice" src="graphics/1.png" draggable="true"
                                             ondragstart="drag(event)"></center></td></tr>
                        <tr><td><center><img class="num" id="second-choice" src="graphics/2.png" draggable="true"
                                             ondragstart="drag(event)"></center></td></tr>
                        <tr><td><center><img class="num" id="third-choice" src="graphics/3.png" draggable="true"
                                             ondragstart="drag(event)"></center></td></tr>
                    </table>
                </div>
                <div class='forwardBack'>
                    <a class="BackButton btn btn-primary" href="tour_signup_personal_info.html">Back</a>

                    <a class="ForwardButton btn btn-primary" href="tour_signup_review.html">Next</a>
                </div>
            </div>

        </div>
        <!--/main col-->
    </div>

</div>
<!--/.container-->
<footer class="container-fluid">
    <p class="text-right small">Â©2017 MIT EECS</p>
</footer>


    <!--scripts loaded here-->
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
    
    <script src="js/scripts.js"></script>


    <script>

        /**
         * Retrieves from data from local storage and displays content on confirmation page
         */
        var dataObject = JSON.parse(localStorage.getItem("personal_info_model"));

        var selectedImageID;

        setTimeout(function () {

            const img1 = '<img class="num" id="first-choice" src="graphics/1.png" draggable="true" ondragstart="drag(event)">';
            const img2 =
                '<img class="num" id="second-choice" src="graphics/2.png" draggable="true" ondragstart="drag(event)">';
            const img3 =
                '<img class="num" id="third-choice" src="graphics/3.png" draggable="true" ondragstart="drag(event)">';
            if (dataObject.date1 && dataObject.date1_id) {
                $('#first-choice').remove();
                var ele = document.getElementById(dataObject.date1_id);
                ele.innerHTML =img1;
            }
            if (dataObject.date2 && dataObject.date2_id) {
                $('#second-choice').remove();
                var ele = document.getElementById(dataObject.date2_id);
                ele.innerHTML =img2;
            }
            if (dataObject.date3 && dataObject.date3_id) {
                $('#third-choice').remove();
                var ele = document.getElementById(dataObject.date3_id);
                ele.innerHTML =img3;
            }
        }, 10);



        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
            selectedImageID = ev.srcElement.id;
        }

        function drop(ev) {
            dataObject = JSON.parse(localStorage.getItem("personal_info_model"));
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            ev.target.appendChild(document.getElementById(data));

            switch(selectedImageID) {
                case 'first-choice':
                    dataObject.date1 = ev.srcElement.title;
                    dataObject.date1_id = ev.srcElement.id;
                    break;
                case 'second-choice':
                    dataObject.date2 = ev.srcElement.title;
                    dataObject.date2_id = ev.srcElement.id;
                    break;
                case 'third-choice':
                    dataObject.date3 = ev.srcElement.title;
                    dataObject.date3_id = ev.srcElement.id;

                    break;
            }
            localStorage.setItem('personal_info_model', JSON.stringify(dataObject));
        }
    </script>
  </body>
</html>